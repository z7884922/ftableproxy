<!--
 You are free to copy and use this sample in accordance with the terms of the
 Apache license (http://www.apache.org/licenses/LICENSE-2.0.html)
 -->

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
    <head>
        <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
        <title>
            Google Visualization API Sample
        </title>
        <script type="text/javascript" src="http://www.google.com/jsapi"></script>
        <script type="text/javascript">
            google.load('visualization', '1', {packages: ['linechart']});
            </script>
        <script type="text/javascript">
            var visualization;
            
            function drawVisualization() {
                // To see the data that this visualization uses, browse to
                // http://spreadsheets.google.com/ccc?key=pCQbetd-CptGXxxQIG7VFIQ
                //var query = new google.visualization.Query(
                 //                                          'https://www.google.com/fusiontables/DataSource?docid=192FBWXTEtR_e-//Bkf2w1vAE610GhSvyqhj-vuuB0#rows:id=1');
                
                // Apply query language.
                //query.setQuery('SELECT time,Location FROM 192FBWXTEtR_e-Bkf2w1vAE610GhSvyqhj-vuuB0 WHERE eventid = 1');
                //var queryURI = 'http://www.google.com/fusiontables/gvizdata?tq='
	        //var queryURI = 'http://localhost:8080/ftproxy'
	        var queryURI = 'http://localhost:8080/ftproxy?tq=';
	        var queryText = 'SELECT time,count FROM 192FBWXTEtR_e-Bkf2w1vAE610GhSvyqhj-vuuB0 WHERE eventid < 9';
	       //alert(queryURI+queryText);
                var query = new google.visualization.Query(queryURI + queryText);
                // Send the query with a callback function.
                query.send(handleQueryResponse);
            }
            
            function handleQueryResponse(response) {
                if (response.isError()) {
                    alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
                    return;
                }
                
                var data = response.getDataTable();
                visualization = new google.visualization.LineChart(document.getElementById('visualization'));
                visualization.draw(data, {legend: 'bottom'});
            }
            
            
            google.setOnLoadCallback(drawVisualization);
            </script>
    </head>
    <body style="font-family: Arial;border: 0 none;">
        <div id="visualization" style="height: 400px; width: 400px;"></div>
    </body>
</html>
â€‹
